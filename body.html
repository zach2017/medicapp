<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Body Diagram</title>
    <link href="styles.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-12 col-lg-8">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Interactive Body Diagram</h5>
                        <small class="text-muted" id="lastSaved"></small>
                    </div>
                    <div class="card-body">
                        <div class="btn-group mb-3" role="group">
                            <button id="burnBtn" class="btn btn-outline-primary" onclick="setMode('burn')">Draw Burn (Blue)</button>
                            <button id="cutBtn" class="btn btn-outline-danger" onclick="setMode('cut')">Draw Cut (Red)</button>
                            <button class="btn btn-outline-secondary" onclick="clearAll()">Clear All</button>
                        </div>

                        <div class="btn-group mb-3 ms-2" role="group">
                            <button class="btn btn-success" onclick="saveState()">Save</button>
                            <button class="btn btn-danger" onclick="resetState()">Reset</button>
                            <button class="btn btn-warning" id="deleteBtn" disabled onclick="deleteOverlay()">Delete</button>
                        </div>

                        <div id="modeIndicator" class="mb-3 text-muted small">Current Mode: None</div>

                        <div class="svg-container border">
                            <svg width="300" height="500" viewBox="0 0 300 500" id="bodyDiagram">
                                <g class="body-base" fill="#f0f0f0" stroke="black" stroke-width="2">
                                    <!-- Head -->
                                    <circle cx="150" cy="60" r="40"></circle>
                                    <!-- Neck -->
                                    <rect x="135" y="100" width="30" height="20" />
                                    <!-- Torso -->
                                    <path d="M110,120 L190,120 L200,300 L100,300 Z" />
                                    <!-- Arms -->
                                    <path d="M190,120 L240,200 L230,210 L180,140 Z" />
                                    <path d="M110,120 L60,200 L70,210 L120,140 Z" />
                                    <!-- Legs -->
                                    <path d="M100,300 L80,450 L120,450 L140,300 Z" />
                                    <path d="M200,300 L220,450 L180,450 L160,300 Z" />
                                    <!-- Labels -->
                                    <g fill="black" font-size="12" text-anchor="middle">
                                        <text x="150" y="65">Head</text>
                                        <text x="150" y="200">Torso</text>
                                        <text x="220" y="180">Arm</text>
                                        <text x="80" y="180">Arm</text>
                                        <text x="100" y="400">Leg</text>
                                        <text x="200" y="400">Leg</text>
                                    </g>
                                </g>

                                <!-- Overlay group for markings -->
                                <g id="overlayGroup"></g>
                            </svg>
                        </div>

                        <div class="mt-3 text-muted small">Click and drag to draw elliptical overlays. The size and shape will adjust based on your drag direction.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Link to external JavaScript file -->
    <script src="script.js"></script>
</body>
</html>
